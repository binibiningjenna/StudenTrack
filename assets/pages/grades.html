<div class="container">
  <div class="row mt-5">
    <div class="col-12">
      <div class="fs-3 fw-semibold text-uppercase mt-5">Grade Tracker</div>
    </div>
    <div class="col-12"><hr class="my-3" /></div>
  </div>

  <div class="row">
    <div class="col d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-3">
      <div class="d-flex gap-3 flex-wrap">
        <div>
          <label for="academicYear" class="form-label mb-1 text-muted">Academic Year</label>
          <select id="academicYear" class="form-select">
            <option selected disabled>Select Year</option>
            <option value="2024-2025">2024 - 2025</option>
            <option value="2025-2026">2025 - 2026</option>
            <option value="2026-2027">2026 - 2027</option>
          </select>
        </div>

        <div>
          <label for="semester" class="form-label mb-1 text-muted">Semester</label>
          <select id="semester" class="form-select">
            <option selected disabled>Select Semester</option>
            <option value="1st">1st Semester</option>
            <option value="2nd">2nd Semester</option>
            <option value="Summer">Summer</option>
          </select>
        </div>
      </div>

      <div>
        <i class="bi-bi-plus"></i>
        <button class="btn btn-outline-light" id="addSubject" onclick="showSubjectInput()">Add Subject</button>
      </div>
    </div>
  </div>

  <div class="row my-4" id="inputSubjectRow" style="display: none">
    <div class="d-flex flex-wrap gap-3">
      <div class="flex-fill" style="min-width: 250px">
        <label for="subject" class="form-label">Subject</label>
        <input type="text" class="form-control" id="subject" />
      </div>

      <div class="flex-fill" style="min-width: 120px; max-width: 150px">
        <label for="grade" class="form-label">Grade</label>
        <input type="number" class="form-control" id="grade" />
      </div>

      <div class="flex-fill" style="min-width: 180px">
        <label for="academicYearInput" class="form-label">Academic Year</label>
        <select id="academicYearInput" class="form-select">
          <option selected disabled>Select Year</option>
          <option value="2024-2025">2024 - 2025</option>
          <option value="2025-2026">2025 - 2026</option>
          <option value="2026-2027">2026 - 2027</option>
        </select>
      </div>

      <div class="flex-fill" style="min-width: 160px">
        <label for="semesterInput" class="form-label">Semester</label>
        <select id="semesterInput" class="form-select">
          <option selected disabled>Select Semester</option>
          <option value="1st">1st Semester</option>
          <option value="2nd">2nd Semester</option>
          <option value="Summer">Summer</option>
        </select>
      </div>
    </div>
  </div>

  <div class="position-fixed top-0 start-50 translate-middle-x p-3" style="z-index: 1100">
    <div id="alertToast" class="toast align-items-center text-white bg-danger border-0" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body" id="toastBody"></div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
    </div>
  </div>

  <div class="col">
    <div class="card p-4 my-4 table-responsive shadow-sm">
      <table class="table table-striped table-borderless align-middle p-0">
        <thead class="table-light">
          <tr>
            <th scope="col">Subject</th>
            <th scope="col">Grade</th>
            <th scope="col">Remarks</th>
            <th class="text-end" scope="col">Action</th>
          </tr>
        </thead>
        <tbody class="table-group-divider">
          <tr>
            <td>Web Development</td>
            <td class="align-middle">1.0</td>
            <td class="align-middle">Passed</td>
            <td class="text-end">
              <div class="d-inline-flex gap-2">
                <a data-bs-toggle="modal" data-bs-target="#editGradeModal"><i class="bi bi-pencil-square"></i></a>
                <a style="color: red" data-bs-toggle="modal" data-bs-target="#deleteModal"><i class="bi bi-trash3 pe-2"></i></a>
              </div>
            </td>
          </tr>
          <tr>
            <td>Web Development</td>
            <td class="align-middle">1.0</td>
            <td class="align-middle">Passed</td>
            <td class="text-end">
              <div class="d-inline-flex gap-2">
                <a data-bs-toggle="modal" data-bs-target="#editGradeModal"><i class="bi bi-pencil-square"></i></a>
                <a style="color: red" data-bs-toggle="modal" data-bs-target="#deleteModal"><i class="bi bi-trash3 pe-2"></i></a>
              </div>
            </td>
          </tr>
          <tr>
            <td>Web Development</td>
            <td class="align-middle">1.0</td>
            <td class="align-middle">Passed</td>
            <td class="text-end">
              <div class="d-inline-flex gap-2">
                <a data-bs-toggle="modal" data-bs-target="#editGradeModal"><i class="bi bi-pencil-square"></i></a>
                <a style="color: red" data-bs-toggle="modal" data-bs-target="#deleteModal"><i class="bi bi-trash3 pe-2"></i></a>
              </div>
            </td>
          </tr>
          <tr>
            <td>Web Development</td>
            <td class="align-middle">1.0</td>
            <td class="align-middle">Passed</td>
            <td class="text-end">
              <div class="d-inline-flex gap-2">
                <a data-bs-toggle="modal" data-bs-target="#editGradeModal"><i class="bi bi-pencil-square"></i></a>
                <a style="color: red" data-bs-toggle="modal" data-bs-target="#deleteModal"><i class="bi bi-trash3 pe-2"></i></a>
              </div>
            </td>
          </tr>
          <tr>
            <td>Web Development</td>
            <td class="align-middle">1.0</td>
            <td class="align-middle">Passed</td>
            <td class="text-end">
              <div class="d-inline-flex gap-2">
                <a data-bs-toggle="modal" data-bs-target="#editGradeModal"><i class="bi bi-pencil-square"></i></a>
                <a style="color: red" data-bs-toggle="modal" data-bs-target="#deleteModal"><i class="bi bi-trash3 pe-2"></i></a>
              </div>
            </td>
          </tr>
          <tr>
            <td>Web Development</td>
            <td class="align-middle">1.0</td>
            <td class="align-middle">Passed</td>
            <td class="text-end">
              <div class="d-inline-flex gap-2">
                <a data-bs-toggle="modal" data-bs-target="#editGradeModal"><i class="bi bi-pencil-square"></i></a>
                <a style="color: red" data-bs-toggle="modal" data-bs-target="#deleteModal"><i class="bi bi-trash3 pe-2"></i></a>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
      <!-- GPA Footer -->
      <div class="card-footer bg-transparent border-0 text-end px-2">
        <span class="text-muted">GPA:</span>
        <span class="fw-semibold">1.25</span>
      </div>
    </div>
  </div>

  <!-- Edit Grade Modal -->
  <div class="modal fade" id="editGradeModal" tabindex="-1" aria-labelledby="editGradeModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content" style="border-radius: 15px">
        <!-- Header -->
        <div style="background-color: var(--darkColor); color: white; padding: 1rem; border-top-left-radius: 15px; border-top-right-radius: 15px; position: relative">
          <h4 class="modal-title text-center" id="editGradeModalLabel" style="margin: 0; font-size: 20px; letter-spacing: 2px">EDIT GRADE</h4>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close" style="position: absolute; top: 16px; right: 16px; background-color: transparent; opacity: 1; outline: none; box-shadow: none"></button>
        </div>

        <!-- Body -->
        <div class="modal-body" style="padding: 1.5rem">
          <form id="editCalendarEventForm">
            <!-- Title -->
            <div class="mb-3">
              <label for="editSubject" class="form-label">Subject</label>
              <input type="text" class="form-control" id="editSubject" required />
            </div>

            <div class="row">
              <!-- Start Date -->
              <div class="mb-3">
                <label for="editGrade" class="form-label">Grade</label>
                <input type="number" class="form-control" id="editGrade" required />
              </div>
            </div>
          </form>
        </div>

        <!-- Footer -->
        <div class="modal-footer d-flex justify-content-end" style="border: none; padding: 1rem">
          <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal">CANCEL</button>
          <button type="button" class="btn btn-outline-success" id="saveEditGradeModal" data-bs-toggle="modal" data-bs-target="#confirmEditGradeModal" style="margin-left: 0.5rem">SAVE CHANGES</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Confirm Edit Grade Modal -->
  <div class="modal fade" id="confirmEditGradeModal" tabindex="-1" aria-labelledby="confirmEditGradeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content" style="border-radius: 15px; color: white; border: none">
        <div class="modal-header" style="border: none">
          <h4 class="modal-title text-center w-100 text-black" id="confirmEditGradeModalLabel" style="margin: 0">GRADE UPDATED</h4>
        </div>
        <div class="modal-body text-center text-black">The new grade has been successfully updated.</div>
        <div class="modal-footer d-flex justify-content-center pb-4" style="border: none">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">CLOSE</button>
        </div>
      </div>
    </div>
  </div>
</div>
